package me.gamrboy4life.paradox.mods.impl;

import me.gamrboy4life.paradox.gui.hud.ScreenPosition;
import me.gamrboy4life.paradox.mods.ModDraggable;
import net.minecraft.client.gui.Gui;

public class ModXYZ extends ModDraggable {

    private static boolean enabled = true; // 静的フィールド

    @Override
    public int getWidth() {
        return font.getStringWidth(getXYZString());
    }

    @Override
    public int getHeight() {
        return font.FONT_HEIGHT;
    }

    @Override
    public void render(ScreenPosition pos) {
        if (enabled) { // 静的フィールドを使用
            font.drawString(getXYZString(), pos.getAbsoluteX(), pos.getAbsoluteY(), -1);
            // 背景を描画
            Gui.drawRect(
                pos.getAbsoluteX() - 5, pos.getAbsoluteY() - 1, // 左上
                pos.getAbsoluteX() , pos.getAbsoluteY() , // 右下
                0x80000000 // 半透明のグレー (0xAARRGGBB形式)
            );
        }
    }

    private String getXYZString() {
        return String.format(
            "XYZ: %.0f / %.0f / %.0f",
            mc.getRenderViewEntity().posX,
            mc.getRenderViewEntity().getEntityBoundingBox().minY,
            mc.getRenderViewEntity().posZ
        );
    }

    @Override
    public void renderDummy(ScreenPosition pos) {
        if (enabled) { // 静的フィールドを使用
            font.drawString(getXYZString(), pos.getAbsoluteX(), pos.getAbsoluteY(), -1);
        }
    }

    @Override
    public boolean isEnabled() {
        return enabled; // 静的フィールドを使用
    }

    // 静的メソッド
    public void setEnabled(boolean isEnabled) {
        ModXYZ.enabled = isEnabled;
    }
}